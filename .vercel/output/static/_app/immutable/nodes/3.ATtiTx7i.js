import{f as M,t as U,a as _}from"../chunks/O6Scfog5.js";import{p as G,n as T,s as t,f as W,c as a,g as e,d as x,r as s,t as E,a as H,b as r,ar as ee,as as re}from"../chunks/_KxZsWR2.js";import{d as j,e as Q,s as J}from"../chunks/DYLJxuZE.js";import{i as P}from"../chunks/C5zH9Bdp.js";import{h as te}from"../chunks/DAPy_qUL.js";import{s as K}from"../chunks/i09DBs4C.js";import{r as N,b as A}from"../chunks/BOC29LpK.js";import{B as V}from"../chunks/Da8G-eBB.js";import{a as X}from"../chunks/C5Chkb5p.js";import{g as O}from"../chunks/Cx1u6K8_.js";var ae=M('<div class="alert alert-error bg-red-50 border border-red-200 rounded-lg p-3"><span class="text-sm text-red-700"> </span></div>'),se=M('<div class="text-center mt-4"><p class="text-sm text-gray-600">Noch kein Account? <button type="button" class="text-black font-semibold hover:underline">Jetzt registrieren</button></p></div>'),ie=M(`/**
 * Login Form
 * E-Mail + Passwort Login
 */ <form class="space-y-6 mt-6"><!> <div class="form-control w-full"><label class="label" for="email"><span class="label-text text-black font-medium">E-Mail</span></label> <input id="email" type="email" placeholder="deine@email.com" class="input input-bordered w-full bg-white border-gray-300 focus:border-black" required/></div> <div class="form-control w-full"><label class="label" for="password"><span class="label-text text-black font-medium">Passwort</span></label> <input id="password" type="password" placeholder="••••••••" class="input input-bordered w-full bg-white border-gray-300 focus:border-black" required/></div> <!> <!></form>`,1);function le(q,n){G(n,!0);let g=x(""),c=x(""),d=x(!1),o=x("");async function m(l){if(l.preventDefault(),!e(g)||!e(c)){r(o,"Bitte alle Felder ausfüllen");return}r(d,!0),r(o,"");const{error:v,needsOnboarding:f}=await X.signIn(e(g),e(c));v?(r(o,"Login fehlgeschlagen. Bitte Zugangsdaten prüfen."),r(d,!1)):f?O("/onboarding"):O("/dashboard")}T();var h=ie(),w=t(W(h)),y=a(w);{var S=l=>{var v=ae(),f=a(v),B=a(f,!0);s(f),s(v),E(()=>J(B,e(o))),_(l,v)};P(y,l=>{e(o)&&l(S)})}var k=t(y,2),L=t(a(k),2);N(L),s(k);var b=t(k,2),z=t(a(b),2);N(z),s(b);var R=t(b,2);V(R,{variant:"primary",size:"lg",fullWidth:!0,get loading(){return e(d)},get disabled(){return e(d)},children:(l,v)=>{T();var f=U("Einloggen");_(l,f)},$$slots:{default:!0}});var F=t(R,2);{var $=l=>{var v=se(),f=a(v),B=t(a(f));B.__click=function(...D){var C;(C=n.onSwitchToRegister)==null||C.apply(this,D)},s(f),s(v),_(l,v)};P(F,l=>{n.onSwitchToRegister&&l($)})}s(w),E(()=>{L.disabled=e(d),z.disabled=e(d)}),Q("submit",w,m),A(L,()=>e(g),l=>r(g,l)),A(z,()=>e(c),l=>r(c,l)),_(q,h),H()}j(["click"]);var oe=M('<div class="alert alert-error bg-red-50 border border-red-200 rounded-lg p-3"><span class="text-sm text-red-700"> </span></div>'),ne=M('<div class="alert alert-success bg-green-50 border border-green-200 rounded-lg p-3"><span class="text-sm text-green-700"> </span></div>'),de=M('<div class="text-center mt-4"><p class="text-sm text-gray-600">Bereits registriert? <button type="button" class="text-black font-semibold hover:underline">Jetzt einloggen</button></p></div>'),ce=M(`/**
 * Register Form
 * E-Mail + Passwort + Name Registrierung
 */ <form class="space-y-6 mt-6"><!> <!> <div class="form-control w-full"><label class="label" for="name"><span class="label-text text-black font-medium">Name</span></label> <input id="name" type="text" placeholder="Max Mustermann" class="input input-bordered w-full bg-white border-gray-300 focus:border-black" required/></div> <div class="form-control w-full"><label class="label" for="email-reg"><span class="label-text text-black font-medium">E-Mail</span></label> <input id="email-reg" type="email" placeholder="deine@email.com" class="input input-bordered w-full bg-white border-gray-300 focus:border-black" required/></div> <div class="form-control w-full"><label class="label" for="password-reg"><span class="label-text text-black font-medium">Passwort</span> <span class="label-text-alt text-gray-500">Min. 6 Zeichen</span></label> <input id="password-reg" type="password" placeholder="••••••••" class="input input-bordered w-full bg-white border-gray-300 focus:border-black" required minlength="6"/></div> <!> <!></form>`,1);function be(q,n){G(n,!0);let g=x(""),c=x(""),d=x(""),o=x(!1),m=x(""),h=x("");async function w(i){if(i.preventDefault(),!e(g)||!e(c)||!e(d)){r(m,"Bitte alle Felder ausfüllen");return}if(e(c).length<6){r(m,"Passwort muss mindestens 6 Zeichen lang sein");return}r(o,!0),r(m,""),r(h,"");const{error:u,requiresEmailConfirmation:p}=await X.signUp(e(g),e(c),e(d));r(o,!1),u?r(m,"Registrierung fehlgeschlagen. E-Mail bereits registriert?"):p&&(r(h,"✅ Registrierung erfolgreich! Bitte bestätige deine E-Mail."),r(g,""),r(c,""),r(d,""))}T();var y=ce(),S=t(W(y)),k=a(S);{var L=i=>{var u=oe(),p=a(u),Z=a(p,!0);s(p),s(u),E(()=>J(Z,e(m))),_(i,u)};P(k,i=>{e(m)&&i(L)})}var b=t(k,2);{var z=i=>{var u=ne(),p=a(u),Z=a(p,!0);s(p),s(u),E(()=>J(Z,e(h))),_(i,u)};P(b,i=>{e(h)&&i(z)})}var R=t(b,2),F=t(a(R),2);N(F),s(R);var $=t(R,2),l=t(a($),2);N(l),s($);var v=t($,2),f=t(a(v),2);N(f),s(v);var B=t(v,2);V(B,{variant:"primary",size:"lg",fullWidth:!0,get loading(){return e(o)},get disabled(){return e(o)},children:(i,u)=>{T();var p=U("Registrieren");_(i,p)},$$slots:{default:!0}});var D=t(B,2);{var C=i=>{var u=de(),p=a(u),Z=t(a(p));Z.__click=function(...Y){var I;(I=n.onSwitchToLogin)==null||I.apply(this,Y)},s(p),s(u),_(i,u)};P(D,i=>{n.onSwitchToLogin&&i(C)})}s(S),E(()=>{F.disabled=e(o),l.disabled=e(o),f.disabled=e(o)}),Q("submit",S,w),A(F,()=>e(d),i=>r(d,i)),A(l,()=>e(g),i=>r(g,i)),A(f,()=>e(c),i=>r(c,i)),_(q,y),H()}j(["click"]);var ve=M(`/**
 * Auth Page
 * Kombinierte Login/Register Seite mit Tabs
 */  <div class="min-h-screen bg-white flex items-center justify-center px-4 py-12"><div class="w-full max-w-md"><div class="text-center mb-8"><a href="/" class="inline-block"><h1 class="text-4xl font-bold text-black mb-2">BrainScore</h1></a> <p class="text-gray-600">Cognitive Performance Testing</p></div> <div class="flex border-b border-gray-300 mb-6"><button>Einloggen</button> <button>Registrieren</button></div> <div class="card bg-base-200 shadow-lg border border-gray-200"><div class="card-body"><!></div></div> <div class="text-center mt-6"><a href="/" class="text-sm text-gray-600 hover:text-black">← Zurück zur Startseite</a></div></div></div>`,1);function ke(q){let n=x("login");T();var g=ve();te("1s728sz",b=>{ee(()=>{re.title="Login - BrainScore"})});var c=t(W(g)),d=a(c),o=t(a(d),2),m=a(o);m.__click=()=>r(n,"login");var h=t(m,2);h.__click=()=>r(n,"register"),s(o);var w=t(o,2),y=a(w),S=a(y);{var k=b=>{le(b,{onSwitchToRegister:()=>r(n,"register")})},L=b=>{be(b,{onSwitchToLogin:()=>r(n,"login")})};P(S,b=>{e(n)==="login"?b(k):b(L,!1)})}s(y),s(w),T(2),s(d),s(c),E(()=>{K(m,1,`flex-1 py-3 text-center font-semibold transition-colors
               ${e(n)==="login"?"text-black border-b-2 border-black":"text-gray-500 hover:text-gray-700"}`),K(h,1,`flex-1 py-3 text-center font-semibold transition-colors
               ${e(n)==="register"?"text-black border-b-2 border-black":"text-gray-500 hover:text-gray-700"}`)}),_(q,g)}j(["click"]);export{ke as component};
